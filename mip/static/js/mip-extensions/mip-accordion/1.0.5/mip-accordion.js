(window.MIP=window.MIP||[]).push({name:"mip-accordion",func:function(){define("mip-accordion/mip-accordion",["require","customElement","zepto"],function(t){function e(t){var e=this,i="MIP-"+t+"-"+c,n=r(i);for(var o in n){if(!n.hasOwnProperty(o))return;if(n[o]){var a=s("#"+o,e);a.attr("aria-expanded","open"),a.parents("section").attr("expanded","open")}}}function i(t){var e=s(t),i=s(t).attr("animatetime");if(void 0===i||isNaN(i))i=.24;else i=Math.min(parseFloat(i),1);e.on("click",".mip-accordion-header",function(){var e=s(this).attr("aria-controls"),r=s("#"+e),a=r.attr("aria-expanded"),c=s(this).parents("section").find(".show-more"),l=s(this).parents("section").find(".show-less");if("open"===a){if(o({ele:r[0],type:"fold",transitionTime:i,cbFun:function(t){t.attr("aria-expanded","close")}.bind(void 0,r)}),s(this).parents("section").removeAttr("expanded"),c.length&&l.length)c.css("display","block"),l.css("display","none");n(t,e,!1)}else{if(t.hasAttribute("expaned-limit"))for(var u=t.querySelectorAll("section"),d=0;d<u.length;d++){var f=u[d].querySelector(".mip-accordion-content"),p=u[d].querySelector(".mip-accordion-header"),h=p.getAttribute("aria-controls");u[d].removeAttribute("expanded"),f.removeAttribute("aria-expanded"),n(t,h,!1),o({ele:f,type:"fold",transitionTime:i})}if(r.attr("aria-expanded","open"),s(this).parents("section").attr("expanded","open"),c.length&&l.length)l.css("display","block"),c.css("display","none");o({ele:r[0],type:"unfold",oriHeight:0,transitionTime:i}),n(t,e,!0)}})}function n(t,e,i){var n="MIP-"+t.getAttribute("sessions-key")+"-"+c,o=r(n);o[e]=i,sessionStorage[n]=JSON.stringify(o)}function r(t){var e=sessionStorage[t];return e?JSON.parse(e):{}}function o(t){var e,i=t.ele,n=t.type;if(n&&i){if(void 0===t.transitionTime||isNaN(t.transitionTime))e=.24;else e=Math.min(parseFloat(t.transitionTime),1);var r,o=void 0!==t.oriHeight?t.oriHeight:getComputedStyle(i).height,a=t.cbFun||function(){};if("unfold"===n){if(void 0!==t.tarHeight)r=t.tarHeight;else i.style.transition="height 0s",i.style.height="auto",r=getComputedStyle(i).height;setTimeout(function(){i.style.transition="height 0s",i.style.height="auto"},1e3*e)}else if("fold"===n)r=t.tarHeight||0;i.style.height=o,setTimeout(function(){i.style.transition="height "+e+"s",i.style.height=r},10),setTimeout(function(){a()},1e3*e)}}var a=t("customElement").create(),s=t("zepto"),c=location.href;return a.prototype.build=function(){var t=this,o=this.element;if(this.type=s(o).attr("type")||"automatic",this.sections=s(o).find("section"),this.id=s(o).attr("sessions-key"),this.element.setAttribute("role","tablist"),this.currentState=r.call(this),this.sections.map(function(e,i){var r=s(i).find("[accordionbtn]"),a=s(i).find("[accordionbox]");if(!r.length||!a.length)r=s(i.children.item(0)),a=r.next();r.addClass("mip-accordion-header"),a.addClass("mip-accordion-content");var c=a.attr("id");if(!c)c="MIP_"+t.id+"_content_"+e,a.attr({id:c});if(t.currentState[c])i.attr("expanded","");else if(!1===t.currentState[c])i.removeAttribute("expanded");if("manual"===t.type&&i.hasAttribute("expanded"))a.attr("aria-expanded","open"),n(o,s(o).attr("aria-controls"),!0);else if("automatic"===t.type)a.attr("aria-expanded",i.hasAttribute("expanded").toString());r.attr("aria-controls",c)}),"automatic"===t.type)e.call(o,this.id);i(o)},a}),define("mip-accordion",["mip-accordion/mip-accordion"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-accordion",e,'mip-accordion .mip-accordion-content{display:none !important;overflow:hidden}mip-accordion .mip-accordion-content[aria-expanded="open"]{display:block !important}mip-accordion section[expanded=open] .show-more{display:none !important}mip-accordion section .show-more{display:block}mip-accordion section .show-less{display:none}mip-accordion section[expanded=open] .show-less{display:block}')}if(window.MIP)require(["mip-accordion"],function(e){t(window.MIP,e)});else require(["mip","mip-accordion"],t)}()}});